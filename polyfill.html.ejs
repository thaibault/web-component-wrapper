<!--
    Promise: React uses for rendering.

    NOTE: "Array.from", "Object.assign" and "Promise" will be polyfilled by the
    webcomponent polyfill.
-->
<%_
    features = [
        // clientnode - Usage.
        'Array.prototype.includes',
        // Iterating over mapping objects everywhere.
        'Object.entries',
        // Applying a scope object during template function call.
        'Object.values',
        // Many usages e.g. in clientnode.
        'String.prototype.endsWith',
        'String.prototype.includes',
        'String.prototype.startsWith',
        // Used by react to identify its own entities.
        'Symbol',
        'Symbol.for'
    ].concat(
        typeof additionalFeatures === 'undefined' ? [] : additionalFeatures
    )
_%>
<script src="https://polyfill.io/v3/polyfill.js?features=<%- features.join('%2C') %>"></script>
<script>
    /*
        Only provide the shadow dom polyfill and avoid to patch a lot
        of dom apis.
    */
    window.ShadyDOM = {noPatch: true}
</script>
<script src="/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
